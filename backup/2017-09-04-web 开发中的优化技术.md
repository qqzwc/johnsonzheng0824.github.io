---
layout: post
title: "web 开发中的优化技术"
date: 2017-09-04
tag: 前后端分离
---   

高并发的网页应用中，每秒内查询次数 QPS(Query Per Second) 是个很重要的性能指标。数据库查询是代码层面的性能瓶颈，此外还有 http 连接也会产生性能开销。提高服务器性能的一个重要技术就是用缓存。浏览器缓存，CDN 缓存，页面缓存，对象缓存等，其中 redis 是实现页面缓存和对象缓存的常用方法。浏览器缓存一般结合 web 开发中的静态分离技术。

用 jsp 还是 html？
jsp 中填充数据是同步加载，因此页面响应有时会很慢。第一次请求 jsp，必须要在 web 服务器中编译成 servlet，第一次运行会较慢。每次请求 jsp 都是访问 servlet 再用输出流输出的 html 页面，效率没有直接使用 html 高。静态分离后，页面用纯 html 编写，异步请求服务器的数据，然后填充到页面。

使用 jsp 是在服务端把视图渲染好后再返回给浏览器，用户发送一个 http 请求，请求首先会进入控制器，然后控制器去获取数据并将其封装为模型，最后将模型传递到视图中进行展现。这种方式的 mvc 交互过程如下图：

![](/images/posts/mvc/1.png)

使用静态分离后，从浏览器发送 AJAX 请求，然后服务端接受该请求并返回 JSON 数据返回给浏览器，最后在浏览器中进行界面渲染。这种方式的 mvc 交互过程如下图：

![](/images/posts/mvc/2.png)

上图的 MVC 模式简化为以下前后端分离模式：

![](/images/posts/mvc/3.png)

## 跨域问题

见参考 2，参考 1 中也有提及。

## 参考

1.  [从 MVC 到前后端分离](https://www.csdn.net/article/2015-10-25/2826033)
2.  [服务器端解决跨域问题的三种方法](https://www.cnblogs.com/007sx/p/5785804.html)