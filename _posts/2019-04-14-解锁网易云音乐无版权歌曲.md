---
layout: post
title: "解锁网易云音乐无版权歌曲"
date: 2019-04-14
tag: [网易云]
---  

## 简介

本文详细介绍如何使用 VPS 搭建解锁网易云音乐无版权音乐的小代理，搭建完成后，在网易云音乐客户端设置 Http 代理后，即可播放无版权的灰色歌曲。

#### 🙏感谢开源项目：[UnblockNeteaseMusic](https://github.com/nondanee/UnblockNeteaseMusic)

## 准备工作

*   一台 VPS
*   VPS 系统为 Centos 7

### 1、安装 Nodejs

```bash
curl -sL https://rpm.nodesource.com/setup_10.x | bash -
yum -y install nodejs
```

### 2、安装 Supervisor

```bash
yum -y install epel-release
yum -y install supervisor
```

### 3、拉取项目文件

```bash
yum -y install git
cd /opt
git clone https://github.com/nondanee/UnblockNeteaseMusic.git
cd UnblockNeteaseMusic
```

### 4、配置参数

```bash
vi /etc/supervisord.d/netease.ini
```

按下键盘的 **Ins**，然后复制粘贴以下内容（注意：所有内容同时复制粘贴）

```
[supervisord]
nodaemon=false

[program:netease]
user=root
directory=/opt/UnblockNeteaseMusic
command=/usr/bin/node app.js -s -p 10000
autostart=true
autorestart=true
```

如下图：![](https://ws1.sinaimg.cn/large/007y2B48gy1g1wpbkcvw7j30p70llglv.jpg)

粘贴后，按下键盘左上角的 **Esc** 按键，然后输入 `:wq`，之后按下回车键

### 5、运行

输入以下命令：

```bash
systemctl start supervisord
systemctl enable supervisord
```

## 设置客户端

在 VPS 搭建完成后，就需要在网易云音乐客户端里设置 Http 代理

### Windows：

客户端找到 **设置** - **工具** - **Http 代理** - **自定义代理** - 选择 **Http 代理**：

![](https://ws1.sinaimg.cn/large/007y2B48gy1g1wpigwxvrj30sy0j63zg.jpg)

**服务器处填写你的 VPS 的 IP 地址**

**端口处填写 10000**

*PS: Windows 客户端设置代理点击测试报不可用是正常的😂，网易云自己的 bug*

点击确定，客户端会要求重启

重启后就完成了。

| 平台    | 设置方法                         |
| :------ | :------------------------------- |
| Windows | 设置 > 工具 > 自定义代理 (客户端内) |
| UWP     | Windows 设置 > 网络和 Internet > 代理  |
| Linux   | 系统设置 > 网络 > 网络代理           |
| macOS   | 系统偏好设置 > 网络 > 高级 > 代理      |
| Android | WLAN > 修改网络 > 高级选项 > 代理      |
| iOS     | Surge，Shadowrocket 等添加配置    |

*PS: 测试发现 iOS 客户端设置 WLAN 代理有效果（不是灰色），但无法播放。因为播放音源地址需要 HTTPS，因此需要一个有可信任证书的 (公网) HTTPS 接口来转发流量，无法直接使用 (其它项目有提到使用 Surge，Shadowrocket 可以直接转发 HTTPS 流量到 HTTP，目前我还在探索怎么使用)*<br>

**iOS Surge 配置（源自[UnblockNeteaseMusic](https://github.com/nondanee/UnblockNeteaseMusic)）**
```
[Proxy]
UnblockNeteaseMusic = http,<Server Name>,<PORT>,,
 
[Rule]
USER-AGENT,NeteaseMusic*,UnblockNeteaseMusic 
FINAL,DIRECT
```