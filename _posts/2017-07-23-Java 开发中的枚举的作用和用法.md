---
layout: post
title: "Java 开发中的枚举的作用和用法"
date: 2017-07-23 
tag: 枚举 
--- 

在 JDK1.5 之前，我们定义常量都是： public static fianl.... 。现在好了，有了枚举，可以把相关的常量分组到一个枚举类型里，而且枚举提供了比常量更多的方法。 例如：

```java
public class Entity {
	public static final int VIDEO = 1;//视频
	public static final int AUDIO = 2;//音频
	public static final int TEXT = 3;//文字
	public static final int IMAGE = 4;//图片

	private int id;
	private int type;

	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public int getType() {
		return type;
	}
	public void setType(int type) {
		this.type = type;
	}
}
```

如果要对 Entity 对象的 type 属性进行赋值，一般会采用如下方法：

```java
Entity e = new Entity();
	e.setId(10);
	e.setType(2);
```

这样做的缺点有：代码可读性差、易用性低。由于 setType() 方法的参数是 int 型的，在阅读代码的时候往往会让读者感到一头雾水，根本不明白这个 2 到底是什么意思，代表的是什么类型。

枚举就是为了这样的问题而诞生的。枚举定义如下：

```java
public enum TypeEnum {
	VIDEO, AUDIO, TEXT, IMAGE
}
```

上面的 Entity 类就可以改成这样：

```java
public class Entity {
	private int id;
	private TypeEnum type;

	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}

	public TypeEnum getType() {
		return type;
	}
	public void setType(TypeEnum type) {
		this.type = type;
	}
}
```

Entity 对象赋值的时候，就可以这样：

```java
Entity e = new Entity();
e.setId(10);
e.setType(TypeEnum.AUDIO);
```

怎么看，都是好了很多。在调用 setType() 时，可选值只有四个，否则会出现编译错误，因此可以看出，枚举是类型安全的，不会出现取值范围错误的问题。同时，客户端不需要建立对枚举中常量值的了解，使用起来很方便，并且可以容易地对枚举进行修改，而无需修改客户端。

因为在 Java 中一个枚举就是一个类，它也可以有属性和方法，并且实现接口。只是所有的枚举都继承自 java.lang.Enum 类，因此 enum 不可以再继承其他的类。

下面给出在枚举中声明属性和方法的示例：

```java
public enum TypeEnum {
	VIDEO(1), AUDIO(2), TEXT(3), IMAGE(4);

	int value;

	TypeEnum(int value) {
		this.value = value;
	}

	public int getValue() {
		return value;
	}
}
```

在这个枚举中，每个枚举的值都有一个对应的 int 型字段，而且不同的枚举值也会有不同的 int 数值。同时，它和普通的类一样，可以声明构造器和各种各样的方法。实现如下：

```java
TypeEnum type = TypeEnum.TEXT;//type的value属性值为3。
System.out.println(type.getValue());//屏幕输出3。
```

如果要为每个枚举值指定属性，则**在枚举中必须声明一个参数为属性对应类型的构造方法**（不能是 public）。否则编译器将给出 The constructor TypeEnum(int, String) is undefined 的错误。在此例中，属性为 int 型，因此构造方法应当为 int 型。除此之外，还可以为枚举指定多个属性，如：

```java
public enum TypeEnum {
	VIDEO(1, "视频"), AUDIO(2, "音频"), TEXT(3, "文本"), IMAGE(4, "图像");

	int value;
	String name;

	TypeEnum(int value, String name) {
		this.value = value;
		this.name = name;
	}

	public int getValue() {
		return value;
	}

	public String getName() {
		return name;
	}
}
```

实现如下：

```java
TypeEnum type = TypeEnum.AUDIO;
System.out.println(type.getName() + ":" + type.getValue());//屏幕输出：音频:2
```

- enum 还内置了许多方法，常用的如下：
    - int compareTo(E o) 比较此枚举与指定对象的顺序。
    - Class<E> getDeclaringClass() 返回与此枚举常量的枚举类型相对应的 Class 对象。
    - String name() 返回此枚举常量的名称，在其枚举声明中对其进行声明。
    - int ordinal() 返回枚举常量的序数（它在枚举声明中的位置，其中初始常量序数为零）。
    - String toString() 返回枚举常量的名称，它包含在声明中。
    - static <T extends Enum<T>> T valueOf(Class<T> enumType, String name) 返回带指定名称的指定枚举类型的枚举常量。
    - static T[] values() 返回该枚举的所有值。